import{c as R,d as A,f as z,g as B}from"./chunk-HSC7GYNH.js";import{a as L}from"./chunk-Q7NQMAH6.js";import{a as G,b as $,c as j,d as v}from"./chunk-HK4ZMKIV.js";import{A as d,B as x,C as r,D as _,E as y,F as c,I as k,J as D,L as O,M as F,N as W,P as u,Q as I,a as E,b as M,g,h as l,i as C,l as f,n as i,q as h,s as S,v as T,w as N,x as P,y as p,z as m}from"./chunk-XVL2RQMV.js";var V=R("spin",[B("false => true",[A(`${5e3}ms ${G}`,z({transform:"{{ transform }}"}))],{params:{transform:"rotate(0deg)"}})]);var J=o=>({transform:o}),K=(o,t)=>({value:o,params:t});function Q(o,t){if(o&1&&(l(),r(0,"g"),y(1,"use",4),r(2,"text",5),D(3),_()()),o&2){let e=t.$implicit;S("transform",e.rotation),i(),S("fill",e.color),i(2),O(" ",e.label," ")}}var a=class a{constructor(){this.wheelService=g(v);this.rotation=f(0);this.hasSpun=f(!1);this.wheelNumber=this.wheelService.result;this.spinTrigger=f(!1);this.rotationStyle=u(()=>`rotate(${this.rotation()}deg)`);this.finalTransform=u(()=>this.hasSpun()?this.rotationStyle():"");this.segments=u(()=>$.map((t,e)=>{let n=e*j;return M(E({},t),{rotation:`rotate(${n}, 100, 100)`})}));I(()=>{if(this.hasSpun()||this.spinTrigger())return;let t=this.wheelNumber();if(t!==null){let e=this.wheelService.calculateRotation(t);this.rotation.set(e),this.spinTrigger.set(!0)}})}onAnimationDone(){this.spinTrigger()&&(this.hasSpun.set(!0),this.wheelService.navigateToResult())}};a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=h({type:a,selectors:[["spinner-app-wheel"]],decls:7,vars:8,consts:[[1,"wheel"],["viewBox","0 0 200 200",1,"wheel__svg"],["id","slice","d","M100,100 L186.6,50 A100,100 0 0,1 186.6,150 Z"],["transform","rotate(-90, 100, 100)"],["href","#slice"],["x","163","y","100","text-anchor","middle","alignment-baseline","middle","transform","rotate(90, 163, 100)",1,"wheel__svg__text"]],template:function(e,n){e&1&&(r(0,"div",0),c("@spin.done",function(){return n.onAnimationDone()}),l(),r(1,"svg",1)(2,"defs"),y(3,"path",2),_(),r(4,"g",3),N(5,Q,4,3,":svg:g",null,T),_()()()),e&2&&(k("transform",n.finalTransform()),p("@spin",W(5,K,n.spinTrigger(),F(3,J,n.rotationStyle()))),i(5),P(n.segments()))},styles:["h1[_ngcontent-%COMP%]{font-family:Leckerli One,cursive;font-size:42px;line-height:1;text-shadow:3px 4px 0 rgba(0,0,0,.5)}h2[_ngcontent-%COMP%]{font-family:Noticia Text,serif;font-size:36px;line-height:1}p[_ngcontent-%COMP%]{font-size:16px}.wheel__svg[_ngcontent-%COMP%]{display:block;height:auto;overflow:visible;width:100%}.wheel__svg[_ngcontent-%COMP%]   #slice[_ngcontent-%COMP%]{stroke:#1f1f1f;stroke-linejoin:round;stroke-width:2px}.wheel__svg__text[_ngcontent-%COMP%]{fill:#f4f4f4;font-family:Noticia Text,serif;font-size:32px;font-weight:700;text-shadow:4px 4px 0 rgba(0,0,0,.2)}"],data:{animation:[V]}});var w=a;var s=class s{constructor(){this.wheelService=g(v)}spinRandom(){this.wheelService.spinRandom()}spinFixed(){this.wheelService.spinFixed()}};s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=h({type:s,selectors:[["spinner-app-wheel-page"]],decls:9,vars:2,consts:[[1,"content","wheel-page"],[1,"wheel-page__spinner"],[1,"wheel-page__spinner__marker"],["viewBox","0 0 20 10"],["points","0,0 20,0 10,10"],[1,"wheel-page__buttons"],[3,"clickEvent","label"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"div",1)(2,"div",2),l(),m(3,"svg",3),x(4,"polygon",4),d()(),C(),x(5,"spinner-app-wheel"),d(),m(6,"div",5)(7,"spinner-app-button",6),c("clickEvent",function(){return n.spinRandom()}),d(),m(8,"spinner-app-button",6),c("clickEvent",function(){return n.spinFixed()}),d()()()),e&2&&(i(7),p("label","Random"),i(),p("label","Fixed"))},dependencies:[w,L],styles:[".wheel-page__spinner[_ngcontent-%COMP%]{max-width:calc(100vh - 300px);position:relative;width:100%}.wheel-page__spinner__marker[_ngcontent-%COMP%]{left:50%;position:absolute;top:-15px;transform:translate(-50%);z-index:1}.wheel-page__spinner__marker[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#f4f4f4;filter:drop-shadow(0 4px 2px rgba(0,0,0,.4));height:20px;overflow:visible;stroke:#1f1f1f;stroke-linejoin:round;stroke-width:1px;width:40px}.wheel-page__buttons[_ngcontent-%COMP%]{align-items:center;display:flex;gap:12px;z-index:2}"]});var U=s;export{U as WheelPage};
